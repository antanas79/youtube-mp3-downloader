(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{SJsF:function(e,t,n){"use strict";n.r(t),n.d(t,"LoanFormReactiveModule",function(){return U});var o=n("ofXK"),i=n("tyNb"),s=n("3Pt+");class r{constructor(e={}){this.value=e.value,this.key=e.key||"",this.placeholder=e.placeholder||"",this.label=e.label||"",this.required=!!e.required,this.order=void 0===e.order?1:e.order,this.controlType=e.controlType||"",this.type=e.type||"",this.options=e.options||[]}}class a extends r{constructor(){super(...arguments),this.controlType="dropdown"}}class c{constructor(e={}){var t;this.label=null!==(t=e.label)&&void 0!==t?t:"",this.key=e.key,this.required=!!e.required,this.order=void 0===e.order?1:e.order,this.isEditable=e.isEditable,this.questions=e.questions,this.text=e.text}}class l extends r{constructor(){super(...arguments),this.controlType="textbox"}}var b=n("LRne"),u=n("fXoL");let p=(()=>{class e{getLoanStepsWithQuestions(){const e=[new c({required:!0,order:0,isEditable:!0,label:"Income",questions:[new l({key:"income",label:"Income",placeholder:"Monthy Income After Taxes (EUR)",required:!0,type:"number",value:null})]}),new c({required:!0,order:1,isEditable:!0,label:"Contact Method",questions:[new a({key:"contactMethod",label:"Contact method",placeholder:"Contact method",required:!0,options:[{key:"none",value:0,label:"Select one"},{key:"phone",value:1,label:"Phone call"},{key:"email",value:2,label:"Email"},{key:"sms",value:3,label:"SMS"}],value:0})]}),new c({required:!0,order:2,isEditable:!0,label:"Contact",questions:[new l({key:"contact",label:"Phone number",placeholder:"Enter phone (+370)",required:!0,value:null,type:"number"})]}),new c({required:!0,order:3,isEditable:!0,label:"Amount",questions:[new l({key:"amount",label:"Loan amount",placeholder:"Loan Amount (EUR)",type:"number",required:!0,value:null,order:3})]})];return Object(b.a)(e.sort((e,t)=>e.order-t.order))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Ib({token:e,factory:e.\u0275fac}),e})();var d=n("XNiG"),m=n("1G5W"),h=n("B/XX"),f=n("xHqg");let g=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Gb({type:e,selectors:[["app-intro"]],inputs:{text:"text"},decls:3,vars:1,template:function(e,t){1&e&&(u.Sb(0,"div"),u.oc(1),u.Rb(),u.Nb(2,"br")),2&e&&(u.Bb(1),u.pc(t.text))},styles:[""]}),e})();var v=n("bTqV");function y(e,t){if(1&e&&(u.Sb(0,"span"),u.oc(1),u.Rb()),2&e){const e=u.bc(2);u.Bb(1),u.qc(" ",e.data[2].contact," ")}}function S(e,t){if(1&e&&(u.Sb(0,"span"),u.oc(1),u.Rb()),2&e){const e=u.bc(2);u.Bb(1),u.rc(" (+370) ",null==e.data[2].contact?null:e.data[2].contact.slice(0,3)," ",null==e.data[2].contact?null:e.data[2].contact.slice(3,8)," ")}}function x(e,t){if(1&e&&(u.Sb(0,"div",1),u.Sb(1,"div",2),u.Sb(2,"div",3),u.oc(3,"Monthly Income:"),u.Rb(),u.Sb(4,"div",3),u.oc(5,"Contact Method:"),u.Rb(),u.Sb(6,"div",3),u.oc(7,"Contact:"),u.Rb(),u.Sb(8,"div",3),u.oc(9,"Loan Amount:"),u.Rb(),u.Rb(),u.Sb(10,"div",4),u.Sb(11,"div",3),u.oc(12),u.Rb(),u.Sb(13,"div",3),u.oc(14),u.Rb(),u.Sb(15,"div",5),u.nc(16,y,2,1,"span",6),u.nc(17,S,2,2,"span",6),u.Rb(),u.Sb(18,"div",3),u.oc(19),u.Rb(),u.Rb(),u.Rb()),2&e){const e=u.bc();u.Bb(12),u.qc("",e.data[0].income," (EUR)"),u.Bb(2),u.pc(e.isEmail?"Email":"Phone"),u.Bb(2),u.ec("ngIf",e.isEmail),u.Bb(1),u.ec("ngIf",!e.isEmail),u.Bb(2),u.qc("",e.data[3].amount," (EUR)")}}let w=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Gb({type:e,selectors:[["app-summary"]],inputs:{text:"text",data:"data",isEmail:"isEmail"},decls:4,vars:2,consts:[["class","d-flex col-12 col-md-6 p-0",4,"ngIf"],[1,"d-flex","col-12","col-md-6","p-0"],[1,"d-flex","flex-column","first","pl-0","pr-3"],[1,"py-2"],[1,"d-flex","flex-column","second","p-0"],[1,"py-2","text-overflow-hidden"],[4,"ngIf"]],template:function(e,t){1&e&&(u.Sb(0,"div"),u.oc(1),u.Rb(),u.Nb(2,"br"),u.nc(3,x,20,5,"div",0)),2&e&&(u.Bb(1),u.pc(t.text),u.Bb(2),u.ec("ngIf",t.data))},directives:[o.j],styles:[".first[_ngcontent-%COMP%]{width:120px}.second[_ngcontent-%COMP%]{width:calc(100% - 120px);max-width:calc(100% - 120px)}.text-overflow-hidden[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}"]}),e})();var R=n("kmnG"),q=n("qFsG"),B=n("d3UM"),E=n("FKr1");function C(e,t){1&e&&u.oc(0,"Intro")}function k(e,t){if(1&e&&u.oc(0),2&e){const e=u.bc().$implicit;u.pc(e.label)}}function F(e,t){if(1&e&&u.Nb(0,"input",16),2&e){const e=u.bc().$implicit;u.fc("placeholder",e.placeholder),u.ec("formControlName",e.key)("id",e.key)("type",e.type)}}function N(e,t){if(1&e&&(u.Sb(0,"mat-option",19),u.oc(1),u.Rb()),2&e){const e=t.$implicit;u.ec("value",e.value),u.Bb(1),u.pc(e.label)}}function I(e,t){if(1&e&&(u.Sb(0,"mat-select",17),u.nc(1,N,2,2,"mat-option",18),u.Rb()),2&e){const e=u.bc().$implicit;u.fc("placeholder",e.placeholder),u.ec("id",e.key)("formControlName",e.key)("value",e.value),u.Bb(1),u.ec("ngForOf",e.options)}}function L(e,t){if(1&e&&(u.Qb(0),u.Sb(1,"mat-form-field",11),u.Sb(2,"div",12),u.nc(3,F,1,4,"input",13),u.nc(4,I,2,5,"mat-select",14),u.Rb(),u.Sb(5,"mat-error"),u.Sb(6,"span",15),u.oc(7),u.Rb(),u.oc(8," is invalid!"),u.Rb(),u.Rb(),u.Pb()),2&e){const e=t.$implicit;u.Bb(2),u.ec("ngSwitch",e.controlType),u.Bb(1),u.ec("ngSwitchCase","textbox"),u.Bb(1),u.ec("ngSwitchCase","dropdown"),u.Bb(3),u.pc(e.label)}}const M=function(e){return[e]};function O(e,t){if(1&e&&(u.Qb(0),u.Sb(1,"mat-step",10),u.nc(2,k,1,1,"ng-template",3),u.nc(3,L,9,4,"ng-container",6),u.Nb(4,"br"),u.Sb(5,"div"),u.Sb(6,"button",8),u.oc(7," Back "),u.Rb(),u.Sb(8,"button",5),u.oc(9," Next "),u.Rb(),u.Rb(),u.Rb(),u.Pb()),2&e){const e=t.$implicit,n=t.index,o=u.bc();let i=null;u.Bb(1),u.ec("editable",e.isEditable)("formGroupName",n)("stepControl",null==(i=o.stepsForm.get("steps"))?null:i.get(u.gc(4,M,n))),u.Bb(2),u.ec("ngForOf",e.questions)}}function P(e,t){1&e&&u.oc(0,"Summary")}const G=[{path:"",component:(()=>{class e{constructor(e,t){this._formBuilder=e,this.questionService=t,this.ngUnsubscribe=new d.a,this.showError=!1,this.loaded=!1,this.isLinear=!0}ngOnInit(){this.questionService.getLoanStepsWithQuestions().pipe(Object(m.a)(this.ngUnsubscribe)).subscribe(e=>{this.steps=e,this.stepsForm=this._formBuilder.group({steps:this._formBuilder.array([this._formBuilder.group({income:[null,[s.n.required,s.n.min(0)]]}),this._formBuilder.group({contactMethod:[0,[s.n.required,s.n.min(1)]]}),this._formBuilder.group({contact:[null,[s.n.required,s.n.minLength(8),s.n.maxLength(8)]]}),this._formBuilder.group({amount:[null,[s.n.required,s.n.min(1)]]})])}),this.loaded=!0,this.onChanges()},()=>{})}onChanges(){this.stepsForm.get("steps").get([1]).get("contactMethod").valueChanges.subscribe(e=>{if(this.stepsForm.get("steps").get([2]).get("contact").clearValidators(),2===e){const e={label:"Email",placeholder:"Enter email",type:"email"};this.steps[2].questions[0]=Object.assign(Object.assign({},this.steps[2].questions[0]),e),this.stepsForm.get("steps").get([2]).get("contact").setValidators([s.n.required,s.n.maxLength(320),s.n.email])}else{const e={label:"Phone number",placeholder:"Enter phone (+370)",type:"number"};this.steps[2].questions[0]=Object.assign(Object.assign({},this.steps[2].questions[0]),e),this.stepsForm.get("steps").get([2]).get("contact").setValidators([s.n.required,s.n.minLength(8),s.n.maxLength(8)])}setTimeout(()=>this.stepsForm.get("steps").get([2]).get("contact").updateValueAndValidity({emitEvent:!1}),0)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(u.Mb(s.c),u.Mb(p))},e.\u0275cmp=u.Gb({type:e,selectors:[["app-loan-form-reactive"]],features:[u.Ab([{provide:h.h,useValue:{showError:!0}},p])],decls:15,vars:9,consts:[[1,"mt-3",3,"formGroup"],["labelPosition","bottom","formArrayName","steps",3,"linear"],[3,"editable"],["class","mt-3","matStepLabel",""],[3,"text"],["mat-button","","matStepperNext","","type","button",1,"next"],[4,"ngFor","ngForOf"],[3,"isEmail","text","data"],["mat-button","","matStepperPrevious","","type","button"],["mat-button","","type","button"],[1,"mt-3",3,"editable","formGroupName","stepControl"],[1,"mr-3","mt-3"],[3,"ngSwitch"],["matInput","",3,"placeholder","formControlName","id","type",4,"ngSwitchCase"],["matInput","",3,"placeholder","id","formControlName","value",4,"ngSwitchCase"],[1,"text-capitalize"],["matInput","",3,"placeholder","formControlName","id","type"],["matInput","",3,"placeholder","id","formControlName","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(u.Sb(0,"form",0),u.Sb(1,"mat-horizontal-stepper",1),u.Sb(2,"mat-step",2),u.nc(3,C,1,0,"ng-template",3),u.Nb(4,"app-intro",4),u.Sb(5,"button",5),u.oc(6," Next "),u.Rb(),u.Rb(),u.nc(7,O,10,6,"ng-container",6),u.Sb(8,"mat-step",2),u.nc(9,P,1,0,"ng-template",3),u.Nb(10,"app-summary",7),u.Sb(11,"button",8),u.oc(12,"Back"),u.Rb(),u.Sb(13,"button",9),u.oc(14,"Submit"),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&e&&(u.ec("formGroup",t.stepsForm),u.Bb(1),u.ec("linear",t.isLinear),u.Bb(1),u.ec("editable",!1),u.Bb(2),u.ec("text","Press next to start applying for a loan."),u.Bb(3),u.ec("ngForOf",t.steps),u.Bb(1),u.ec("editable",!0),u.Bb(2),u.ec("isEmail",2==t.stepsForm.get("steps").value[1].contactMethod)("text","Please review entered information below before submitting the form.")("data",t.stepsForm.get("steps").value))},directives:[s.o,s.k,s.e,f.a,s.b,f.b,f.c,g,v.a,f.e,o.i,w,f.f,s.f,R.c,o.k,o.l,R.b,q.a,s.a,s.j,s.d,B.a,E.h],styles:[""]}),e})()}];let j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Kb({type:e}),e.\u0275inj=u.Jb({imports:[[i.a.forChild(G)],i.a]}),e})();var _=n("FpXt");let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Kb({type:e}),e.\u0275inj=u.Jb({imports:[[o.b,_.a,j]]}),e})()}}]);