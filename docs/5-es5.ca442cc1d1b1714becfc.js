!function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function t(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=a(e);if(t){var r=a(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return i(this,n)}}function i(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{SJsF:function(e,o,i){"use strict";i.r(o),i.d(o,"LoanFormReactiveModule",function(){return z});var a,l,s=i("ofXK"),u=i("tyNb"),b=i("3Pt+"),p=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,e),this.value=t.value,this.key=t.key||"",this.placeholder=t.placeholder||"",this.label=t.label||"",this.required=!!t.required,this.order=void 0===t.order?1:t.order,this.controlType=t.controlType||"",this.type=t.type||"",this.options=t.options||[]},d=function(e){n(o,e);var t=r(o);function o(){var e;return c(this,o),(e=t.apply(this,arguments)).controlType="dropdown",e}return o}(p),f=function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,e),this.label=null!==(t=n.label)&&void 0!==t?t:"",this.key=n.key,this.required=!!n.required,this.order=void 0===n.order?1:n.order,this.isEditable=n.isEditable,this.questions=n.questions,this.text=n.text},m=function(e){n(o,e);var t=r(o);function o(){var e;return c(this,o),(e=t.apply(this,arguments)).controlType="textbox",e}return o}(p),h=i("LRne"),v=i("fXoL"),y=((a=function(){function e(){c(this,e)}return t(e,[{key:"getLoanStepsWithQuestions",value:function(){var e=[new f({required:!0,order:0,isEditable:!0,label:"Income",questions:[new m({key:"income",label:"Income",placeholder:"Monthy Income After Taxes (EUR)",required:!0,type:"number",value:null})]}),new f({required:!0,order:1,isEditable:!0,label:"Contact Method",questions:[new d({key:"contactMethod",label:"Contact method",placeholder:"Contact method",required:!0,options:[{key:"none",value:0,label:"Select one"},{key:"phone",value:1,label:"Phone call"},{key:"email",value:2,label:"Email"},{key:"sms",value:3,label:"SMS"}],value:0})]}),new f({required:!0,order:2,isEditable:!0,label:"Contact",questions:[new m({key:"contact",label:"Phone number",placeholder:"Enter phone (+370)",required:!0,value:null,type:"number"})]}),new f({required:!0,order:3,isEditable:!0,label:"Amount",questions:[new m({key:"amount",label:"Loan amount",placeholder:"Loan Amount (EUR)",type:"number",required:!0,value:null,order:3})]})];return Object(h.a)(e.sort(function(e,t){return e.order-t.order}))}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275prov=v.Ib({token:a,factory:a.\u0275fac}),a),g=i("XNiG"),S=i("1G5W"),w=i("B/XX"),x=i("xHqg"),R=((l=function e(){c(this,e)}).\u0275fac=function(e){return new(e||l)},l.\u0275cmp=v.Gb({type:l,selectors:[["app-intro"]],inputs:{text:"text"},decls:3,vars:1,template:function(e,t){1&e&&(v.Sb(0,"div"),v.oc(1),v.Rb(),v.Nb(2,"br")),2&e&&(v.Bb(1),v.pc(t.text))},styles:[""]}),l),q=i("bTqV");function B(e,t){if(1&e&&(v.Sb(0,"span"),v.oc(1),v.Rb()),2&e){var n=v.bc(2);v.Bb(1),v.qc(" ",n.data[2].contact," ")}}function E(e,t){if(1&e&&(v.Sb(0,"span"),v.oc(1),v.Rb()),2&e){var n=v.bc(2);v.Bb(1),v.rc(" (+370) ",null==n.data[2].contact?null:n.data[2].contact.slice(0,3)," ",null==n.data[2].contact?null:n.data[2].contact.slice(3,8)," ")}}function k(e,t){if(1&e&&(v.Sb(0,"div",1),v.Sb(1,"div",2),v.Sb(2,"div",3),v.oc(3,"Monthly Income:"),v.Rb(),v.Sb(4,"div",3),v.oc(5,"Contact Method:"),v.Rb(),v.Sb(6,"div",3),v.oc(7,"Contact:"),v.Rb(),v.Sb(8,"div",3),v.oc(9,"Loan Amount:"),v.Rb(),v.Rb(),v.Sb(10,"div",4),v.Sb(11,"div",3),v.oc(12),v.Rb(),v.Sb(13,"div",3),v.oc(14),v.Rb(),v.Sb(15,"div",5),v.nc(16,B,2,1,"span",6),v.nc(17,E,2,2,"span",6),v.Rb(),v.Sb(18,"div",3),v.oc(19),v.Rb(),v.Rb(),v.Rb()),2&e){var n=v.bc();v.Bb(12),v.qc("",n.data[0].income," (EUR)"),v.Bb(2),v.pc(n.isEmail?"Email":"Phone"),v.Bb(2),v.ec("ngIf",n.isEmail),v.Bb(1),v.ec("ngIf",!n.isEmail),v.Bb(2),v.qc("",n.data[3].amount," (EUR)")}}var O,C=((O=function e(){c(this,e)}).\u0275fac=function(e){return new(e||O)},O.\u0275cmp=v.Gb({type:O,selectors:[["app-summary"]],inputs:{text:"text",data:"data",isEmail:"isEmail"},decls:4,vars:2,consts:[["class","d-flex col-12 col-md-6 p-0",4,"ngIf"],[1,"d-flex","col-12","col-md-6","p-0"],[1,"d-flex","flex-column","first","pl-0","pr-3"],[1,"py-2"],[1,"d-flex","flex-column","second","p-0"],[1,"py-2","text-overflow-hidden"],[4,"ngIf"]],template:function(e,t){1&e&&(v.Sb(0,"div"),v.oc(1),v.Rb(),v.Nb(2,"br"),v.nc(3,k,20,5,"div",0)),2&e&&(v.Bb(1),v.pc(t.text),v.Bb(2),v.ec("ngIf",t.data))},directives:[s.j],styles:[".first[_ngcontent-%COMP%]{width:120px}.second[_ngcontent-%COMP%]{width:calc(100% - 120px);max-width:calc(100% - 120px)}.text-overflow-hidden[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}"]}),O),F=i("kmnG"),N=i("qFsG"),P=i("d3UM"),_=i("FKr1");function j(e,t){1&e&&v.oc(0,"Intro")}function I(e,t){if(1&e&&v.oc(0),2&e){var n=v.bc().$implicit;v.pc(n.label)}}function L(e,t){if(1&e&&v.Nb(0,"input",16),2&e){var n=v.bc().$implicit;v.fc("placeholder",n.placeholder),v.ec("formControlName",n.key)("id",n.key)("type",n.type)}}function M(e,t){if(1&e&&(v.Sb(0,"mat-option",19),v.oc(1),v.Rb()),2&e){var n=t.$implicit;v.ec("value",n.value),v.Bb(1),v.pc(n.label)}}function G(e,t){if(1&e&&(v.Sb(0,"mat-select",17),v.nc(1,M,2,2,"mat-option",18),v.Rb()),2&e){var n=v.bc().$implicit;v.fc("placeholder",n.placeholder),v.ec("id",n.key)("formControlName",n.key)("value",n.value),v.Bb(1),v.ec("ngForOf",n.options)}}function T(e,t){if(1&e&&(v.Qb(0),v.Sb(1,"mat-form-field",11),v.Sb(2,"div",12),v.nc(3,L,1,4,"input",13),v.nc(4,G,2,5,"mat-select",14),v.Rb(),v.Sb(5,"mat-error"),v.Sb(6,"span",15),v.oc(7),v.Rb(),v.oc(8," is invalid!"),v.Rb(),v.Rb(),v.Pb()),2&e){var n=t.$implicit;v.Bb(2),v.ec("ngSwitch",n.controlType),v.Bb(1),v.ec("ngSwitchCase","textbox"),v.Bb(1),v.ec("ngSwitchCase","dropdown"),v.Bb(3),v.pc(n.label)}}var U=function(e){return[e]};function A(e,t){if(1&e&&(v.Qb(0),v.Sb(1,"mat-step",10),v.nc(2,I,1,1,"ng-template",3),v.nc(3,T,9,4,"ng-container",6),v.Nb(4,"br"),v.Sb(5,"div"),v.Sb(6,"button",8),v.oc(7," Back "),v.Rb(),v.Sb(8,"button",5),v.oc(9," Next "),v.Rb(),v.Rb(),v.Rb(),v.Pb()),2&e){var n=t.$implicit,o=t.index,r=v.bc(),i=null;v.Bb(1),v.ec("editable",n.isEditable)("formGroupName",o)("stepControl",null==(i=r.stepsForm.get("steps"))?null:i.get(v.gc(4,U,o))),v.Bb(2),v.ec("ngForOf",n.questions)}}function V(e,t){1&e&&v.oc(0,"Summary")}var X,$,J,K=[{path:"",component:(X=function(){function e(t,n){c(this,e),this._formBuilder=t,this.questionService=n,this.ngUnsubscribe=new g.a,this.showError=!1,this.loaded=!1,this.isLinear=!0}return t(e,[{key:"ngOnInit",value:function(){var e=this;this.questionService.getLoanStepsWithQuestions().pipe(Object(S.a)(this.ngUnsubscribe)).subscribe(function(t){e.steps=t,e.stepsForm=e._formBuilder.group({steps:e._formBuilder.array([e._formBuilder.group({income:[null,[b.n.required,b.n.min(0)]]}),e._formBuilder.group({contactMethod:[0,[b.n.required,b.n.min(1)]]}),e._formBuilder.group({contact:[null,[b.n.required,b.n.minLength(8),b.n.maxLength(8)]]}),e._formBuilder.group({amount:[null,[b.n.required,b.n.min(1)]]})])}),e.loaded=!0,e.onChanges()},function(){})}},{key:"onChanges",value:function(){var e=this;this.stepsForm.get("steps").get([1]).get("contactMethod").valueChanges.subscribe(function(t){e.stepsForm.get("steps").get([2]).get("contact").clearValidators(),2===t?(e.steps[2].questions[0]=Object.assign(Object.assign({},e.steps[2].questions[0]),{label:"Email",placeholder:"Enter email",type:"email"}),e.stepsForm.get("steps").get([2]).get("contact").setValidators([b.n.required,b.n.maxLength(320),b.n.email])):(e.steps[2].questions[0]=Object.assign(Object.assign({},e.steps[2].questions[0]),{label:"Phone number",placeholder:"Enter phone (+370)",type:"number"}),e.stepsForm.get("steps").get([2]).get("contact").setValidators([b.n.required,b.n.minLength(8),b.n.maxLength(8)])),setTimeout(function(){return e.stepsForm.get("steps").get([2]).get("contact").updateValueAndValidity({emitEvent:!1})},0)})}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}]),e}(),X.\u0275fac=function(e){return new(e||X)(v.Mb(b.c),v.Mb(y))},X.\u0275cmp=v.Gb({type:X,selectors:[["app-loan-form-reactive"]],features:[v.Ab([{provide:w.h,useValue:{showError:!0}},y])],decls:15,vars:9,consts:[[1,"mt-3",3,"formGroup"],["labelPosition","bottom","formArrayName","steps",3,"linear"],[3,"editable"],["class","mt-3","matStepLabel",""],[3,"text"],["mat-button","","matStepperNext","","type","button",1,"next"],[4,"ngFor","ngForOf"],[3,"isEmail","text","data"],["mat-button","","matStepperPrevious","","type","button"],["mat-button","","type","button"],[1,"mt-3",3,"editable","formGroupName","stepControl"],[1,"mr-3","mt-3"],[3,"ngSwitch"],["matInput","",3,"placeholder","formControlName","id","type",4,"ngSwitchCase"],["matInput","",3,"placeholder","id","formControlName","value",4,"ngSwitchCase"],[1,"text-capitalize"],["matInput","",3,"placeholder","formControlName","id","type"],["matInput","",3,"placeholder","id","formControlName","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(v.Sb(0,"form",0),v.Sb(1,"mat-horizontal-stepper",1),v.Sb(2,"mat-step",2),v.nc(3,j,1,0,"ng-template",3),v.Nb(4,"app-intro",4),v.Sb(5,"button",5),v.oc(6," Next "),v.Rb(),v.Rb(),v.nc(7,A,10,6,"ng-container",6),v.Sb(8,"mat-step",2),v.nc(9,V,1,0,"ng-template",3),v.Nb(10,"app-summary",7),v.Sb(11,"button",8),v.oc(12,"Back"),v.Rb(),v.Sb(13,"button",9),v.oc(14,"Submit"),v.Rb(),v.Rb(),v.Rb(),v.Rb()),2&e&&(v.ec("formGroup",t.stepsForm),v.Bb(1),v.ec("linear",t.isLinear),v.Bb(1),v.ec("editable",!1),v.Bb(2),v.ec("text","Press next to start applying for a loan."),v.Bb(3),v.ec("ngForOf",t.steps),v.Bb(1),v.ec("editable",!0),v.Bb(2),v.ec("isEmail",2==t.stepsForm.get("steps").value[1].contactMethod)("text","Please review entered information below before submitting the form.")("data",t.stepsForm.get("steps").value))},directives:[b.o,b.k,b.e,x.a,b.b,x.b,x.c,R,q.a,x.e,s.i,C,x.f,b.f,F.c,s.k,s.l,F.b,N.a,b.a,b.j,b.d,P.a,_.h],styles:[""]}),X)}],Q=(($=function e(){c(this,e)}).\u0275fac=function(e){return new(e||$)},$.\u0275mod=v.Kb({type:$}),$.\u0275inj=v.Jb({imports:[[u.a.forChild(K)],u.a]}),$),W=i("FpXt"),z=((J=function e(){c(this,e)}).\u0275fac=function(e){return new(e||J)},J.\u0275mod=v.Kb({type:J}),J.\u0275inj=v.Jb({imports:[[s.b,W.a,Q]]}),J)}}])}();